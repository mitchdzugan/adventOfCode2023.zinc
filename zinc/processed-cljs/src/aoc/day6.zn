(require ' ["./lib.mjs" :as lib])
(require ' ["./../+.mjs" :as + :refer-macros true])
(do (do (aset +/qt-store 29 "RaceT") (+/bury +/prop-store [29 nil] {0 {:idname "time", :fullname "%time", :ind 0}, 1 {:idname "record", :fullname "%record", :ind 1}})) (def RaceT 29))
(defn Race [time record] [29 time record])
(defn count-possibilities [val-161] (let [^{:unname "time"} var-time-162 (aget val-161 1) ^{:unname "record"} var-record-163 (aget val-161 2)] (let [qdrtc_root (/ (js/Math.sqrt (- (* ^{:unname "time"} var-time-162 ^{:unname "time"} var-time-162) (* 4 ^{:unname "record"} var-record-163))) 2) qdrtc_b_2a (/ ^{:unname "time"} var-time-162 2) bound_h (+/floor (+ qdrtc_b_2a qdrtc_root)) bound_l (+/floor (- qdrtc_b_2a qdrtc_root))] (- bound_h bound_l))))
(defn part1 [] (->> (+/Vec (Race 52 426) (Race 94 1374) (Race 75 1279) (Race 94 1216)) (+/fmap count-possibilities) (+/reduce (fn [_anon%1_26 _anon%2_27] (* _anon%1_26 _anon%2_27)) 1)))
(defn part2 [] (let [time 52947594 record 426137412791216] (count-possibilities (Race time record))))
